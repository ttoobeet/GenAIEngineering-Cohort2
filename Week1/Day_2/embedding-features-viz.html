<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Embedding Vectors</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #141e30 0%, #243b55 50%, #428e92 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 60px;
            animation: fadeInDown 1s ease-out;
        }

        h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.4em;
            opacity: 0.9;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            animation: fadeInUp 1s ease-out;
        }

        h2 {
            color: #141e30;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        h3 {
            color: #243b55;
            font-size: 1.8em;
            margin: 30px 0 20px;
        }

        /* Vector Visualization */
        .vector-container {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin: 40px 0;
            flex-wrap: wrap;
            gap: 30px;
        }

        .sentence-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #428e92;
            font-size: 1.2em;
            max-width: 400px;
            text-align: center;
        }

        .arrow {
            font-size: 2em;
            color: #428e92;
            animation: pulse 2s infinite;
        }

        .vector-display {
            background: linear-gradient(135deg, #243b55 0%, #141e30 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            font-family: monospace;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .vector-values {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .vector-value {
            background: rgba(255,255,255,0.1);
            padding: 5px;
            border-radius: 5px;
            text-align: center;
        }

        /* Feature Categories */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-top: 4px solid #428e92;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .feature-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-align: center;
        }

        .feature-title {
            font-weight: bold;
            color: #243b55;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .feature-examples {
            margin-top: 15px;
            padding-left: 20px;
        }

        .feature-examples li {
            margin: 5px 0;
            color: #666;
        }

        /* Interactive Analyzer */
        .analyzer-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .sentence-input {
            flex: 1;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: border-color 0.3s ease;
        }

        .sentence-input:focus {
            outline: none;
            border-color: #428e92;
        }

        .analyze-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #428e92 0%, #243b55 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Feature Analysis Display */
        .analysis-results {
            display: none;
            margin-top: 30px;
        }

        .analysis-results.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .feature-bars {
            display: grid;
            gap: 20px;
        }

        .feature-bar {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .feature-bar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .feature-name {
            font-weight: bold;
            color: #243b55;
        }

        .feature-score {
            font-weight: bold;
            color: #428e92;
        }

        .bar-container {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(135deg, #428e92 0%, #243b55 100%);
            border-radius: 15px;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
        }

        /* Dimension Visualization */
        .dimension-explorer {
            margin: 30px 0;
        }

        .dimension-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 5px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .dimension-cell {
            height: 60px;
            background: linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 100%);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .dimension-cell:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .dimension-cell.positive {
            background: linear-gradient(135deg, #66bb6a 0%, #4caf50 100%);
            color: white;
        }

        .dimension-cell.negative {
            background: linear-gradient(135deg, #ef5350 0%, #f44336 100%);
            color: white;
        }

        .dimension-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8em;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .dimension-cell:hover .dimension-tooltip {
            opacity: 1;
        }

        /* Similarity Comparison */
        .similarity-demo {
            margin: 30px 0;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
        }

        .sentence-pair {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 20px 0;
        }

        .sentence-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .similarity-score {
            font-size: 2em;
            font-weight: bold;
            color: #428e92;
            text-align: center;
        }

        /* Info Boxes */
        .info-box {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .formula-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        /* 3D Vector Space */
        .vector-space-3d {
            width: 100%;
            height: 400px;
            background: #f5f5f5;
            border-radius: 15px;
            position: relative;
            margin: 30px 0;
            overflow: hidden;
            border: 2px solid #e0e0e0;
        }

        .vector-point-3d {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #428e92;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        /* LLM Generation Styles */
        .generation-slide {
            background: #f8f9fa;
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            min-height: 500px;
        }

        .generation-demo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .context-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .token-sequence {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }

        .token {
            padding: 10px 20px;
            background: #e3f2fd;
            border-radius: 8px;
            font-weight: bold;
            border: 2px solid #2196f3;
        }

        .token.current {
            background: #fff3cd;
            border-color: #ffc107;
            animation: pulse 2s infinite;
        }

        .arrow-down {
            font-size: 2em;
            color: #428e92;
            animation: bounce 2s infinite;
        }

        .embedding-row {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .token-embedding {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .token-label {
            font-weight: bold;
            color: #243b55;
            margin-bottom: 5px;
        }

        .mini-vector {
            font-family: monospace;
            font-size: 0.9em;
            color: #666;
        }

        .context-embedding {
            background: linear-gradient(135deg, #243b55 0%, #141e30 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .context-vector {
            font-family: monospace;
            margin-top: 10px;
            font-size: 1.1em;
        }

        /* Transformer Animation */
        .transformer-animation {
            text-align: center;
        }

        .transformer-layers {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 40px 0;
        }

        .layer-block {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .layer-title {
            font-weight: bold;
            color: #243b55;
            margin-bottom: 15px;
        }

        .attention-matrix {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
            width: 60px;
            margin: 0 auto;
        }

        .attention-cell {
            width: 15px;
            height: 15px;
            background: #428e92;
            border-radius: 50%;
            animation: attentionPulse 2s infinite;
        }

        .attention-cell:nth-child(odd) {
            animation-delay: 0.5s;
        }

        .arrow-right {
            font-size: 2em;
            color: #428e92;
        }

        .neural-network-mini {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nn-layer {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .nn-node {
            width: 20px;
            height: 20px;
            background: #428e92;
            border-radius: 50%;
        }

        .output-vector-display {
            display: flex;
            gap: 5px;
            align-items: flex-end;
            height: 60px;
        }

        .vector-bar {
            width: 15px;
            background: linear-gradient(to top, #428e92, #66bb6a);
            animation: barGrow 2s ease-in-out infinite;
        }

        /* Vocabulary Projection */
        .vocab-projection {
            display: flex;
            justify-content: space-around;
            align-items: center;
            gap: 30px;
            margin: 40px 0;
        }

        .projection-left, .projection-right {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .hidden-state-vector {
            margin-top: 15px;
            font-family: monospace;
        }

        .vector-component {
            padding: 5px;
            margin: 2px 0;
            background: #f0f0f0;
            border-radius: 5px;
        }

        .projection-arrow {
            text-align: center;
        }

        .matrix-multiply {
            font-size: 2em;
            color: #428e92;
            margin-bottom: 10px;
        }

        .weight-matrix {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
        }

        .matrix-size {
            font-family: monospace;
            color: #666;
            font-size: 0.9em;
        }

        .vocab-scores {
            margin-top: 15px;
        }

        .word-score {
            padding: 8px 15px;
            margin: 5px 0;
            border-radius: 8px;
            font-weight: bold;
        }

        .word-score.high {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .word-score.medium {
            background: #fff9c4;
            color: #f57f17;
        }

        .word-score.low {
            background: #ffcdd2;
            color: #c62828;
        }

        /* Probability Demo */
        .probability-demo {
            margin: 40px 0;
        }

        .softmax-conversion {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
        }

        .scores-box, .probs-box {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .softmax-arrow {
            text-align: center;
        }

        .formula {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .prob-bars {
            margin-top: 15px;
        }

        .prob-bar-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .prob-label {
            width: 80px;
            font-weight: bold;
        }

        .prob-bar-container {
            flex: 1;
            background: #e0e0e0;
            height: 25px;
            border-radius: 12px;
            overflow: hidden;
        }

        .prob-bar {
            height: 100%;
            background: linear-gradient(135deg, #428e92 0%, #66bb6a 100%);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            animation: barSlide 1s ease-out;
        }

        .method-cards {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }

        .method-card-small {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            flex: 1;
        }

        .method-card-small h4 {
            color: #243b55;
            margin-bottom: 10px;
        }

        /* Generation Loop */
        .generation-loop {
            margin: 40px 0;
        }

        .loop-visualization {
            margin-bottom: 40px;
        }

        .generation-state {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.5s ease;
        }

        .state-label {
            font-weight: bold;
            color: #243b55;
            margin-bottom: 10px;
        }

        .text-state {
            font-size: 1.2em;
            margin: 10px 0;
        }

        .generated {
            background: #c8e6c9;
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: bold;
        }

        .next-pred {
            color: #666;
            font-style: italic;
        }

        .loop-diagram {
            background: #e3f2fd;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }

        .loop-box p {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        /* Slide Controls */
        .slide-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-top: 40px;
        }

        .slide-btn {
            padding: 10px 25px;
            background: #428e92;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .slide-btn:hover {
            background: #357a7d;
            transform: translateY(-2px);
        }

        .slide-indicators {
            display: flex;
            gap: 10px;
        }

        .indicator {
            width: 12px;
            height: 12px;
            background: #e0e0e0;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: #428e92;
            transform: scale(1.2);
        }

        /* Interactive Generation */
        .interactive-generation {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
        }

        .generation-input {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .generate-text-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #428e92 0%, #243b55 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .generate-text-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .process-step {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            animation: slideIn 0.5s ease;
        }

        .tokens-display {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
            justify-content: center;
        }

        .embeddings-preview {
            font-family: monospace;
            background: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            overflow-x: auto;
        }

        .processing-animation {
            width: 100%;
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 15px;
        }

        .processing-bar {
            height: 100%;
            background: linear-gradient(135deg, #428e92 0%, #66bb6a 100%);
            width: 0%;
            animation: processingFill 3s ease-out forwards;
        }

        .final-output {
            font-size: 1.2em;
            line-height: 1.6;
            margin-top: 15px;
            padding: 20px;
            background: #e8f5e9;
            border-radius: 10px;
        }

        /* New Animations */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes attentionPulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @keyframes barGrow {
            0%, 100% { height: 60%; }
            50% { height: 100%; }
        }

        @keyframes barSlide {
            from { width: 0; }
            to { width: inherit; }
        }

        @keyframes processingFill {
            from { width: 0%; }
            to { width: 100%; }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            h2 { font-size: 2em; }
            .features-grid { grid-template-columns: 1fr; }
            .input-group { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>🔢 Sentence Embedding Vectors</h1>
            <p class="subtitle">Understanding What Features Embeddings Capture</p>
        </header>

        <!-- What Are Embeddings -->
        <div class="section">
            <h2>📊 What Are Embedding Vectors?</h2>
            
            <div class="vector-container">
                <div class="sentence-box">
                    "The cat is sleeping peacefully"
                </div>
                <span class="arrow">→</span>
                <div class="vector-display">
                    <strong>768-dimensional vector:</strong>
                    <div class="vector-values">
                        <div class="vector-value">0.342</div>
                        <div class="vector-value">-0.156</div>
                        <div class="vector-value">0.823</div>
                        <div class="vector-value">-0.091</div>
                        <div class="vector-value">0.445</div>
                        <div class="vector-value">0.234</div>
                        <div class="vector-value">-0.567</div>
                        <div class="vector-value">...</div>
                    </div>
                    <div style="text-align: center; margin-top: 10px; opacity: 0.8;">
                        (+ 760 more dimensions)
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h3>🎯 Key Concepts:</h3>
                <ul style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>Dense Representation:</strong> Sentences are converted into fixed-size numerical vectors (typically 384-1024 dimensions)</li>
                    <li><strong>Semantic Encoding:</strong> Similar sentences have similar vectors (small cosine distance)</li>
                    <li><strong>Learned Features:</strong> Each dimension captures some linguistic or semantic property</li>
                    <li><strong>Contextual Understanding:</strong> Modern embeddings (BERT, etc.) consider word context</li>
                </ul>
            </div>
        </div>

        <!-- Feature Categories -->
        <div class="section">
            <h2>🎨 Features Captured by Embeddings</h2>
            <p style="text-align: center; margin-bottom: 30px; font-size: 1.1em;">
                Embedding vectors encode multiple types of linguistic and semantic information
            </p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🧠</div>
                    <div class="feature-title">Semantic Meaning</div>
                    <p>Core conceptual content and topic</p>
                    <ul class="feature-examples">
                        <li>Animal vs Technology topics</li>
                        <li>Abstract vs Concrete concepts</li>
                        <li>Domain-specific terminology</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">📝</div>
                    <div class="feature-title">Syntactic Structure</div>
                    <p>Grammatical patterns and word order</p>
                    <ul class="feature-examples">
                        <li>Subject-Verb-Object patterns</li>
                        <li>Question vs Statement</li>
                        <li>Active vs Passive voice</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">😊</div>
                    <div class="feature-title">Sentiment & Emotion</div>
                    <p>Emotional tone and polarity</p>
                    <ul class="feature-examples">
                        <li>Positive/Negative/Neutral</li>
                        <li>Joy, Anger, Sadness, Fear</li>
                        <li>Intensity of emotion</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🎭</div>
                    <div class="feature-title">Style & Register</div>
                    <p>Writing style and formality</p>
                    <ul class="feature-examples">
                        <li>Formal vs Informal</li>
                        <li>Technical vs Casual</li>
                        <li>Academic vs Conversational</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🔗</div>
                    <div class="feature-title">Entity Information</div>
                    <p>People, places, organizations</p>
                    <ul class="feature-examples">
                        <li>Named entity types</li>
                        <li>Geographical references</li>
                        <li>Temporal expressions</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🎯</div>
                    <div class="feature-title">Intent & Purpose</div>
                    <p>Communicative goal</p>
                    <ul class="feature-examples">
                        <li>Question vs Command</li>
                        <li>Request vs Statement</li>
                        <li>Informative vs Persuasive</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Interactive Analyzer -->
        <div class="section">
            <h2>🔬 Analyze Sentence Features</h2>
            
            <div class="analyzer-container">
                <div class="input-group">
                    <input type="text" class="sentence-input" id="sentenceInput" 
                           placeholder="Enter a sentence to analyze..." 
                           value="The scientists discovered a revolutionary new treatment for cancer.">
                    <button class="analyze-btn" onclick="analyzeSentence()">Analyze Features</button>
                </div>
                
                <div class="analysis-results" id="analysisResults">
                    <h3>Feature Analysis:</h3>
                    <div class="feature-bars" id="featureBars">
                        <!-- Feature bars will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Dimension Explorer -->
        <div class="section">
            <h2>🌐 Exploring Vector Dimensions</h2>
            <p style="text-align: center; margin-bottom: 20px;">
                Visualization of a 128-dimensional embedding vector (hover to see dimension info)
            </p>
            
            <div class="dimension-explorer">
                <div class="dimension-grid" id="dimensionGrid">
                    <!-- Dimensions will be populated by JavaScript -->
                </div>
            </div>

            <div class="info-box">
                <h4>Understanding Dimensions:</h4>
                <ul style="margin-left: 20px;">
                    <li><strong>Individual dimensions</strong> don't have clear interpretations</li>
                    <li><strong>Patterns across dimensions</strong> encode semantic features</li>
                    <li><strong>Positive/Negative values</strong> indicate presence/absence of abstract features</li>
                    <li><strong>Magnitude</strong> shows feature strength</li>
                </ul>
            </div>
        </div>

        <!-- Similarity Demo -->
        <div class="section">
            <h2>🔄 Semantic Similarity Through Embeddings</h2>
            
            <div class="similarity-demo">
                <div class="sentence-pair">
                    <div class="sentence-card">
                        <p>"The cat is sleeping on the sofa"</p>
                    </div>
                    <div class="similarity-score">0.89</div>
                    <div class="sentence-card">
                        <p>"A kitten is resting on the couch"</p>
                    </div>
                </div>

                <div class="sentence-pair">
                    <div class="sentence-card">
                        <p>"The weather is beautiful today"</p>
                    </div>
                    <div class="similarity-score">0.12</div>
                    <div class="sentence-card">
                        <p>"I need to debug this code"</p>
                    </div>
                </div>

                <div class="sentence-pair">
                    <div class="sentence-card">
                        <p>"Machine learning transforms data"</p>
                    </div>
                    <div class="similarity-score">0.76</div>
                    <div class="sentence-card">
                        <p>"AI algorithms process information"</p>
                    </div>
                </div>
            </div>

            <div class="formula-box">
                <h4>Cosine Similarity Formula:</h4>
                <p style="font-family: monospace; font-size: 1.2em; margin: 15px 0;">
                    similarity = (A · B) / (||A|| × ||B||)
                </p>
                <p>Range: -1 (opposite) to 1 (identical)</p>
            </div>
        </div>

        <!-- How Embeddings Learn Features -->
        <div class="section">
            <h2>🎓 How Embeddings Learn Features</h2>
            
            <div style="display: grid; gap: 20px; margin-top: 30px;">
                <div class="info-box">
                    <h3>1️⃣ Pre-training on Massive Data</h3>
                    <p>Models see billions of sentences and learn patterns:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Words that appear in similar contexts get similar representations</li>
                        <li>Grammatical patterns are encoded through position and attention</li>
                        <li>Multi-lingual models learn cross-language concepts</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h3>2️⃣ Self-Supervised Learning</h3>
                    <p>Models learn by predicting masked words or next sentences:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>BERT: Masked Language Modeling</li>
                        <li>GPT: Next Token Prediction</li>
                        <li>Sentence-BERT: Contrastive Learning</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h3>3️⃣ Emergent Properties</h3>
                    <p>Complex features emerge without explicit programming:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Sentiment emerges from word associations</li>
                        <li>Grammar emerges from sequence patterns</li>
                        <li>Topics emerge from co-occurrence statistics</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- LLM Text Generation -->
        <div class="section">
            <h2>🤖 How LLMs Use Embeddings for Text Generation</h2>
            <p style="text-align: center; margin-bottom: 30px; font-size: 1.1em;">
                Step-by-step visualization of next word prediction using embeddings
            </p>

            <!-- Slide 1: Context to Embeddings -->
            <div class="generation-slide" id="slide1">
                <h3>Step 1: Context Embedding</h3>
                <div class="generation-demo">
                    <div class="context-box">
                        <p><strong>Input Context:</strong></p>
                        <div class="token-sequence">
                            <span class="token">The</span>
                            <span class="token">weather</span>
                            <span class="token">is</span>
                            <span class="token current">___</span>
                        </div>
                    </div>
                    
                    <div class="arrow-down">↓</div>
                    
                    <div class="embedding-process">
                        <div class="embedding-row">
                            <div class="token-embedding">
                                <div class="token-label">The</div>
                                <div class="mini-vector">[0.12, -0.34, 0.56...]</div>
                            </div>
                            <div class="token-embedding">
                                <div class="token-label">weather</div>
                                <div class="mini-vector">[0.78, 0.23, -0.11...]</div>
                            </div>
                            <div class="token-embedding">
                                <div class="token-label">is</div>
                                <div class="mini-vector">[-0.45, 0.67, 0.89...]</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="arrow-down">↓</div>
                    
                    <div class="context-embedding">
                        <p><strong>Combined Context Vector</strong></p>
                        <div class="context-vector">[0.15, 0.19, 0.44, -0.23, 0.78, ...]</div>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Transformer Processing -->
            <div class="generation-slide" id="slide2" style="display: none;">
                <h3>Step 2: Transformer Processing</h3>
                <div class="transformer-animation">
                    <div class="transformer-layers">
                        <div class="layer-block">
                            <div class="layer-title">Self-Attention</div>
                            <div class="attention-matrix">
                                <div class="attention-cell a1">●</div>
                                <div class="attention-cell a2">●</div>
                                <div class="attention-cell a3">●</div>
                                <div class="attention-cell a4">●</div>
                                <div class="attention-cell a5">●</div>
                                <div class="attention-cell a6">●</div>
                                <div class="attention-cell a7">●</div>
                                <div class="attention-cell a8">●</div>
                                <div class="attention-cell a9">●</div>
                            </div>
                        </div>
                        
                        <div class="arrow-right">→</div>
                        
                        <div class="layer-block">
                            <div class="layer-title">Feed Forward</div>
                            <div class="neural-network-mini">
                                <div class="nn-layer">
                                    <div class="nn-node"></div>
                                    <div class="nn-node"></div>
                                    <div class="nn-node"></div>
                                </div>
                                <div class="nn-connections"></div>
                                <div class="nn-layer">
                                    <div class="nn-node"></div>
                                    <div class="nn-node"></div>
                                    <div class="nn-node"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow-right">→</div>
                        
                        <div class="layer-block">
                            <div class="layer-title">Output Vector</div>
                            <div class="output-vector-display">
                                <div class="vector-bar" style="height: 60%"></div>
                                <div class="vector-bar" style="height: 30%"></div>
                                <div class="vector-bar" style="height: 80%"></div>
                                <div class="vector-bar" style="height: 45%"></div>
                                <div class="vector-bar" style="height: 70%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <p class="process-description">
                        The transformer processes context embeddings through multiple layers,
                        each refining the representation for next word prediction
                    </p>
                </div>
            </div>

            <!-- Slide 3: Vocabulary Projection -->
            <div class="generation-slide" id="slide3" style="display: none;">
                <h3>Step 3: Vocabulary Projection</h3>
                <div class="vocab-projection">
                    <div class="projection-left">
                        <p><strong>Final Hidden State</strong></p>
                        <div class="hidden-state-vector">
                            <div class="vector-component">h₁ = 0.82</div>
                            <div class="vector-component">h₂ = -0.31</div>
                            <div class="vector-component">h₃ = 0.56</div>
                            <div class="vector-component">...</div>
                            <div class="vector-component">h₇₆₈ = 0.14</div>
                        </div>
                    </div>
                    
                    <div class="projection-arrow">
                        <div class="matrix-multiply">×</div>
                        <div class="weight-matrix">
                            <p>Weight Matrix</p>
                            <p class="matrix-size">(768 × 50,000)</p>
                        </div>
                    </div>
                    
                    <div class="projection-right">
                        <p><strong>Vocabulary Scores</strong></p>
                        <div class="vocab-scores">
                            <div class="word-score high">sunny: 8.2</div>
                            <div class="word-score high">beautiful: 7.9</div>
                            <div class="word-score high">nice: 7.5</div>
                            <div class="word-score medium">cold: 4.1</div>
                            <div class="word-score medium">rainy: 3.8</div>
                            <div class="word-score low">computer: -2.1</div>
                            <div class="word-score low">algorithm: -3.5</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Probability Distribution -->
            <div class="generation-slide" id="slide4" style="display: none;">
                <h3>Step 4: Probability Distribution</h3>
                <div class="probability-demo">
                    <div class="softmax-conversion">
                        <div class="scores-box">
                            <p><strong>Raw Scores (Logits)</strong></p>
                            <div class="score-list">
                                <div>sunny: 8.2</div>
                                <div>beautiful: 7.9</div>
                                <div>nice: 7.5</div>
                                <div>...</div>
                            </div>
                        </div>
                        
                        <div class="softmax-arrow">
                            <p>Softmax</p>
                            <p class="formula">p(w) = e^(score_w) / Σe^(scores)</p>
                        </div>
                        
                        <div class="probs-box">
                            <p><strong>Probabilities</strong></p>
                            <div class="prob-bars">
                                <div class="prob-bar-item">
                                    <div class="prob-label">sunny</div>
                                    <div class="prob-bar-container">
                                        <div class="prob-bar" style="width: 35%">35%</div>
                                    </div>
                                </div>
                                <div class="prob-bar-item">
                                    <div class="prob-label">beautiful</div>
                                    <div class="prob-bar-container">
                                        <div class="prob-bar" style="width: 28%">28%</div>
                                    </div>
                                </div>
                                <div class="prob-bar-item">
                                    <div class="prob-label">nice</div>
                                    <div class="prob-bar-container">
                                        <div class="prob-bar" style="width: 20%">20%</div>
                                    </div>
                                </div>
                                <div class="prob-bar-item">
                                    <div class="prob-label">cold</div>
                                    <div class="prob-bar-container">
                                        <div class="prob-bar" style="width: 8%">8%</div>
                                    </div>
                                </div>
                                <div class="prob-bar-item">
                                    <div class="prob-label">other</div>
                                    <div class="prob-bar-container">
                                        <div class="prob-bar" style="width: 9%">9%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sampling-methods">
                        <p><strong>Sampling Methods:</strong></p>
                        <div class="method-cards">
                            <div class="method-card-small">
                                <h4>Greedy</h4>
                                <p>Always pick highest: "sunny"</p>
                            </div>
                            <div class="method-card-small">
                                <h4>Top-k</h4>
                                <p>Sample from top 3 words</p>
                            </div>
                            <div class="method-card-small">
                                <h4>Temperature</h4>
                                <p>Adjust probability spread</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 5: Text Generation Loop -->
            <div class="generation-slide" id="slide5" style="display: none;">
                <h3>Step 5: Autoregressive Generation</h3>
                <div class="generation-loop">
                    <div class="loop-visualization">
                        <div class="generation-state" id="genState1">
                            <p class="state-label">Iteration 1</p>
                            <div class="text-state">The weather is <span class="generated">beautiful</span> ___</div>
                            <div class="next-pred">Next: "today"</div>
                        </div>
                        
                        <div class="generation-state" id="genState2" style="opacity: 0.3;">
                            <p class="state-label">Iteration 2</p>
                            <div class="text-state">The weather is beautiful <span class="generated">today</span> ___</div>
                            <div class="next-pred">Next: "with"</div>
                        </div>
                        
                        <div class="generation-state" id="genState3" style="opacity: 0.3;">
                            <p class="state-label">Iteration 3</p>
                            <div class="text-state">The weather is beautiful today <span class="generated">with</span> ___</div>
                            <div class="next-pred">Next: "clear"</div>
                        </div>
                        
                        <div class="generation-state" id="genState4" style="opacity: 0.3;">
                            <p class="state-label">Iteration 4</p>
                            <div class="text-state">The weather is beautiful today with <span class="generated">clear</span> ___</div>
                            <div class="next-pred">Next: "skies"</div>
                        </div>
                    </div>
                    
                    <div class="loop-diagram">
                        <div class="loop-box">
                            <p>1. Update context with new word</p>
                            <p>2. Generate new embeddings</p>
                            <p>3. Process through transformer</p>
                            <p>4. Predict next word</p>
                            <p>5. Repeat until stop token</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation Controls -->
            <div class="slide-controls">
                <button class="slide-btn" onclick="previousSlide()">← Previous</button>
                <div class="slide-indicators">
                    <span class="indicator active" onclick="goToSlide(1)"></span>
                    <span class="indicator" onclick="goToSlide(2)"></span>
                    <span class="indicator" onclick="goToSlide(3)"></span>
                    <span class="indicator" onclick="goToSlide(4)"></span>
                    <span class="indicator" onclick="goToSlide(5)"></span>
                </div>
                <button class="slide-btn" onclick="nextSlide()">Next →</button>
            </div>
        </div>

        <!-- Interactive Text Generation Demo -->
        <div class="section">
            <h2>🎮 Interactive Text Generation</h2>
            <div class="interactive-generation">
                <div class="generation-input">
                    <input type="text" id="genPrompt" placeholder="Enter your prompt..." value="The future of AI">
                    <button class="generate-text-btn" onclick="generateInteractiveText()">Generate</button>
                </div>
                
                <div class="generation-process" id="genProcess" style="display: none;">
                    <div class="process-step" id="step1">
                        <h4>📝 Tokenizing Input...</h4>
                        <div class="tokens-display" id="tokensDisplay"></div>
                    </div>
                    
                    <div class="process-step" id="step2" style="display: none;">
                        <h4>🔢 Creating Embeddings...</h4>
                        <div class="embeddings-preview" id="embeddingsPreview"></div>
                    </div>
                    
                    <div class="process-step" id="step3" style="display: none;">
                        <h4>🤖 Processing Through Transformer...</h4>
                        <div class="processing-animation">
                            <div class="processing-bar"></div>
                        </div>
                    </div>
                    
                    <div class="process-step" id="step4" style="display: none;">
                        <h4>✨ Generated Text:</h4>
                        <div class="final-output" id="finalOutput"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Practical Applications -->
        <div class="section">
            <h2>🚀 Applications of Sentence Embeddings</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🔍</div>
                    <div class="feature-title">Semantic Search</div>
                    <p>Find documents by meaning, not keywords</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🗂️</div>
                    <div class="feature-title">Text Classification</div>
                    <p>Categorize emails, reviews, articles</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <div class="feature-title">Cross-lingual Understanding</div>
                    <p>Find similar content across languages</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💬</div>
                    <div class="feature-title">Chatbots & QA</div>
                    <p>Match questions to relevant answers</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <div class="feature-title">Document Clustering</div>
                    <p>Group similar documents automatically</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🎯</div>
                    <div class="feature-title">Recommendation Systems</div>
                    <p>Suggest similar content to users</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Analyze sentence features
        function analyzeSentence() {
            const sentence = document.getElementById('sentenceInput').value;
            if (!sentence.trim()) return;

            // Simulated feature extraction (in practice, use real models)
            const features = extractFeatures(sentence);
            displayFeatureAnalysis(features);
            
            // Generate and display embedding visualization
            generateEmbeddingVisualization();
        }

        // Extract features from sentence (simulated)
        function extractFeatures(sentence) {
            const features = {
                'Semantic Richness': 0,
                'Syntactic Complexity': 0,
                'Sentiment Polarity': 0,
                'Formality Level': 0,
                'Entity Density': 0,
                'Question Intent': 0,
                'Technical Content': 0,
                'Emotional Intensity': 0
            };

            // Simple heuristics for demonstration
            const words = sentence.toLowerCase().split(' ');
            const wordCount = words.length;

            // Semantic richness (vocabulary diversity)
            const uniqueWords = new Set(words);
            features['Semantic Richness'] = (uniqueWords.size / wordCount) * 100;

            // Syntactic complexity (based on length and punctuation)
            features['Syntactic Complexity'] = Math.min(100, wordCount * 5 + (sentence.match(/[,;:]/g) || []).length * 10);

            // Sentiment (simple keyword matching)
            const positiveWords = ['good', 'great', 'excellent', 'happy', 'beautiful', 'revolutionary', 'discovered'];
            const negativeWords = ['bad', 'terrible', 'sad', 'angry', 'problem', 'issue'];
            const posCount = words.filter(w => positiveWords.includes(w)).length;
            const negCount = words.filter(w => negativeWords.includes(w)).length;
            features['Sentiment Polarity'] = 50 + (posCount - negCount) * 20;

            // Formality (based on contractions and casual words)
            const casualIndicators = ["i'm", "don't", "can't", "won't", "gonna", "wanna"];
            const formalIndicators = ['therefore', 'however', 'furthermore', 'scientists', 'research'];
            const casualCount = words.filter(w => casualIndicators.includes(w)).length;
            const formalCount = words.filter(w => formalIndicators.includes(w)).length;
            features['Formality Level'] = Math.min(100, 50 + (formalCount - casualCount) * 25);

            // Entity density (capitalized words)
            const entities = sentence.match(/[A-Z][a-z]+/g) || [];
            features['Entity Density'] = Math.min(100, (entities.length / wordCount) * 200);

            // Question intent
            features['Question Intent'] = sentence.includes('?') ? 90 : (sentence.includes('what') || sentence.includes('how') ? 30 : 10);

            // Technical content
            const techWords = ['algorithm', 'data', 'system', 'technology', 'scientific', 'treatment', 'cancer', 'research'];
            const techCount = words.filter(w => techWords.includes(w)).length;
            features['Technical Content'] = Math.min(100, techCount * 30);

            // Emotional intensity
            const emotionWords = ['love', 'hate', 'amazing', 'terrible', 'revolutionary', 'incredible'];
            const emotionCount = words.filter(w => emotionWords.includes(w)).length;
            features['Emotional Intensity'] = Math.min(100, emotionCount * 35);

            return features;
        }

        // Display feature analysis
        function displayFeatureAnalysis(features) {
            const resultsDiv = document.getElementById('analysisResults');
            const barsDiv = document.getElementById('featureBars');
            
            resultsDiv.classList.add('show');
            barsDiv.innerHTML = '';

            Object.entries(features).forEach(([feature, value], index) => {
                const barDiv = document.createElement('div');
                barDiv.className = 'feature-bar';
                barDiv.innerHTML = `
                    <div class="feature-bar-header">
                        <span class="feature-name">${feature}</span>
                        <span class="feature-score">${value.toFixed(0)}%</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar-fill" style="width: 0%;" data-width="${value}%">
                            ${value.toFixed(0)}%
                        </div>
                    </div>
                `;
                barsDiv.appendChild(barDiv);

                // Animate bars
                setTimeout(() => {
                    barDiv.querySelector('.bar-fill').style.width = `${value}%`;
                }, index * 100);
            });
        }

        // Generate embedding visualization
        function generateEmbeddingVisualization() {
            const grid = document.getElementById('dimensionGrid');
            grid.innerHTML = '';

            // Generate 128 dimensions with simulated values
            for (let i = 0; i < 128; i++) {
                const value = (Math.random() - 0.5) * 2; // Range: -1 to 1
                const cell = document.createElement('div');
                cell.className = 'dimension-cell';
                
                if (value > 0.1) {
                    cell.classList.add('positive');
                } else if (value < -0.1) {
                    cell.classList.add('negative');
                }

                cell.textContent = value.toFixed(2);
                
                // Add tooltip
                const tooltip = document.createElement('div');
                tooltip.className = 'dimension-tooltip';
                tooltip.textContent = `Dim ${i}: ${value.toFixed(3)}`;
                cell.appendChild(tooltip);

                // Delayed appearance animation
                cell.style.opacity = '0';
                cell.style.transform = 'scale(0.8)';
                setTimeout(() => {
                    cell.style.opacity = '1';
                    cell.style.transform = 'scale(1)';
                    cell.style.transition = 'all 0.3s ease';
                }, i * 10);

                grid.appendChild(cell);
            }
        }

        // Initialize on load
        window.addEventListener('load', () => {
            // Analyze default sentence
            analyzeSentence();
        });

        // Initialize on load
        window.addEventListener('load', () => {
            // Analyze default sentence
            analyzeSentence();
            
            // Initialize slide animations
            animateSlide1();
        });

        // Slide navigation
        let currentSlide = 1;
        const totalSlides = 5;

        function goToSlide(slideNum) {
            // Hide all slides
            for (let i = 1; i <= totalSlides; i++) {
                document.getElementById(`slide${i}`).style.display = 'none';
            }
            
            // Show selected slide
            document.getElementById(`slide${slideNum}`).style.display = 'block';
            
            // Update indicators
            document.querySelectorAll('.indicator').forEach((ind, idx) => {
                ind.classList.toggle('active', idx + 1 === slideNum);
            });
            
            currentSlide = slideNum;
            
            // Trigger slide-specific animations
            if (slideNum === 1) animateSlide1();
            else if (slideNum === 2) animateSlide2();
            else if (slideNum === 3) animateSlide3();
            else if (slideNum === 4) animateSlide4();
            else if (slideNum === 5) animateSlide5();
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                goToSlide(currentSlide + 1);
            }
        }

        function previousSlide() {
            if (currentSlide > 1) {
                goToSlide(currentSlide - 1);
            }
        }

        // Slide animations
        function animateSlide1() {
            // Animate tokens appearing
            const tokens = document.querySelectorAll('#slide1 .token');
            tokens.forEach((token, idx) => {
                token.style.opacity = '0';
                token.style.transform = 'scale(0.8)';
                setTimeout(() => {
                    token.style.transition = 'all 0.5s ease';
                    token.style.opacity = '1';
                    token.style.transform = 'scale(1)';
                }, idx * 200);
            });
        }

        function animateSlide2() {
            // Animate attention cells
            const cells = document.querySelectorAll('.attention-cell');
            cells.forEach((cell, idx) => {
                cell.style.opacity = '0';
                setTimeout(() => {
                    cell.style.transition = 'opacity 0.3s ease';
                    cell.style.opacity = '1';
                }, idx * 100);
            });
        }

        function animateSlide3() {
            // Animate vocabulary scores
            const scores = document.querySelectorAll('.word-score');
            scores.forEach((score, idx) => {
                score.style.opacity = '0';
                score.style.transform = 'translateX(-20px)';
                setTimeout(() => {
                    score.style.transition = 'all 0.5s ease';
                    score.style.opacity = '1';
                    score.style.transform = 'translateX(0)';
                }, idx * 150);
            });
        }

        function animateSlide4() {
            // Animate probability bars
            const bars = document.querySelectorAll('.prob-bar');
            bars.forEach((bar, idx) => {
                const width = bar.style.width;
                bar.style.width = '0';
                setTimeout(() => {
                    bar.style.transition = 'width 1s ease-out';
                    bar.style.width = width;
                }, idx * 200);
            });
        }

        function animateSlide5() {
            // Animate generation states
            const states = document.querySelectorAll('.generation-state');
            states.forEach((state, idx) => {
                setTimeout(() => {
                    state.style.opacity = '1';
                    state.style.background = '#e8f5e9';
                    state.style.transform = 'scale(1.02)';
                    setTimeout(() => {
                        state.style.transform = 'scale(1)';
                    }, 300);
                }, idx * 1000);
            });
        }

        // Interactive text generation
        function generateInteractiveText() {
            const prompt = document.getElementById('genPrompt').value;
            if (!prompt.trim()) return;
            
            const process = document.getElementById('genProcess');
            process.style.display = 'block';
            
            // Step 1: Tokenization
            const step1 = document.getElementById('step1');
            step1.style.display = 'block';
            const tokens = prompt.split(' ');
            const tokensDisplay = document.getElementById('tokensDisplay');
            tokensDisplay.innerHTML = '';
            
            tokens.forEach((token, idx) => {
                setTimeout(() => {
                    const tokenEl = document.createElement('span');
                    tokenEl.className = 'token';
                    tokenEl.textContent = token;
                    tokenEl.style.opacity = '0';
                    tokensDisplay.appendChild(tokenEl);
                    
                    setTimeout(() => {
                        tokenEl.style.transition = 'opacity 0.3s ease';
                        tokenEl.style.opacity = '1';
                    }, 50);
                }, idx * 200);
            });
            
            // Step 2: Embeddings
            setTimeout(() => {
                const step2 = document.getElementById('step2');
                step2.style.display = 'block';
                const embeddingsPreview = document.getElementById('embeddingsPreview');
                
                const embeddings = tokens.map(token => {
                    const vec = Array(8).fill(0).map(() => (Math.random() - 0.5).toFixed(3));
                    return `${token}: [${vec.join(', ')}, ...]`;
                });
                
                embeddingsPreview.textContent = embeddings.join('\n');
            }, tokens.length * 200 + 1000);
            
            // Step 3: Processing
            setTimeout(() => {
                const step3 = document.getElementById('step3');
                step3.style.display = 'block';
            }, tokens.length * 200 + 2500);
            
            // Step 4: Final output
            setTimeout(() => {
                const step4 = document.getElementById('step4');
                step4.style.display = 'block';
                const finalOutput = document.getElementById('finalOutput');
                
                // Simulated completions based on prompt
                const completions = {
                    'The future of AI': 'The future of AI holds tremendous promise for transforming industries, enhancing human capabilities, and solving complex global challenges. As models become more sophisticated and efficient, we can expect breakthroughs in healthcare, climate science, and education.',
                    'Once upon a time': 'Once upon a time in a digital realm, there lived an artificial intelligence that dreamed of understanding human creativity. Each day it learned from millions of stories, gradually developing its own unique voice.',
                    'default': `${prompt} continues with fascinating developments that showcase the power of modern language models. Through sophisticated embedding representations and transformer architectures, these systems can generate coherent and contextually relevant text.`
                };
                
                const completion = completions[prompt] || completions['default'];
                
                // Animate text appearance word by word
                const words = completion.split(' ');
                finalOutput.innerHTML = '';
                
                words.forEach((word, idx) => {
                    setTimeout(() => {
                        finalOutput.innerHTML += word + ' ';
                    }, idx * 100);
                });
            }, tokens.length * 200 + 5500);
        }

        // Enter key support
        document.getElementById('sentenceInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') analyzeSentence();
        });

        document.getElementById('genPrompt').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') generateInteractiveText();
        });

        // Animate sections on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(30px)';
            section.style.transition = 'all 0.6s ease-out';
            observer.observe(section);
        });
    </script>
</body>
</html>